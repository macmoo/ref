package jp.co.shoeisha.javarecipe.chapter03.recipe078;

import java.util.ArrayList;
import java.util.Collections;
import java.util.HashMap;
import java.util.List;
import java.util.Map;

public class GenericsSample {

	@SuppressWarnings("unused")
	public static void main(String[] args) {

		/////////////////////////////////////////////////////////////////////////////
		// Java 6
		/////////////////////////////////////////////////////////////////////////////
		{
			List<String> list = new ArrayList<String>();
			Map<String, List<String>> map = new HashMap<String, List<String>>();
		}

		/////////////////////////////////////////////////////////////////////////////
		// Java 7
		/////////////////////////////////////////////////////////////////////////////
		{
			List<String> list = new ArrayList<>();
			Map<String, List<String>> map = new HashMap<>();

//			map.put("キー", new ArrayList<>());		// コンパイルエラー
		}

		/////////////////////////////////////////////////////////////////////////////
		// Java 8
		/////////////////////////////////////////////////////////////////////////////
		{
			List<String> list = new ArrayList<>();
			Map<String, List<String>> map = new HashMap<>();

			map.put("キー", new ArrayList<>());		// OK
		}

		/////////////////////////////////////////////////////////////////////////////
		// ジェネリクスを使ったメソッド呼び出し
		/////////////////////////////////////////////////////////////////////////////
		{
			// ネストしたリスト（List<String>を要素に持つ）
			List<List<String>> list = new ArrayList<>();

			/////////////////////////////////////////////////////////////////////////////
			// Java 7 まで
			/////////////////////////////////////////////////////////////////////////////

			// 明示的に型パラメータを指定
			list.add(Collections.<String>emptyList());

			// もしくは変数に代入して型を確定させておく
			List<String> emptyList = Collections.emptyList();
			list.add(emptyList);

			/////////////////////////////////////////////////////////////////////////////
			// Java 8
			/////////////////////////////////////////////////////////////////////////////

			// 型パラメータを省略できる（Java 7以前はコンパイルエラー）
			list.add(Collections.emptyList());
		}

	}

}
